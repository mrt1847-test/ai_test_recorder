body{font-family:Inter,Arial,Helvetica,sans-serif;margin:8px;background:#f6f7fb;color:#222}
.toolbar{width:100%;background:#fff;border-radius:12px;box-shadow:0 8px 24px rgba(15,23,42,0.08);padding:16px 18px;margin-bottom:12px;box-sizing:border-box}
.toolbar-inner{max-width:880px;margin:0 auto;display:flex;flex-direction:column;gap:12px}
.toolbar-row{display:flex;gap:12px;width:100%}
.toolbar-field{display:flex;flex-direction:column;flex:1;gap:6px}
.toolbar-label{font-size:12px;font-weight:600;color:#555;letter-spacing:0.2px}
.toolbar-row.ai-config{flex-wrap:wrap;align-items:flex-end}
.toolbar-row.ai-config .toolbar-field{flex:1 1 220px;min-width:200px}
.toolbar-row.ai-config .ai-config-actions{flex:0 0 auto;min-width:160px;display:flex;flex-direction:column;gap:6px;align-items:stretch}
.ai-config-actions .toolbar-btn{flex:none}
.ai-settings-status{font-size:11px;color:#0f766e;min-height:14px}
.ai-settings-status.error{color:#dc2626}
.ai-settings-status.pending{color:#2563eb}
.ai-settings-status.success{color:#0f766e}
.toolbar-row textarea{width:100%;box-sizing:border-box;resize:vertical;min-height:88px;padding:12px;border-radius:10px;border:1px solid #d0d0d0;font-size:14px;line-height:1.5;background:#fff;box-shadow:0 1px 3px rgba(15,23,42,0.08);transition:border-color 0.2s ease, box-shadow 0.2s ease;overflow:auto}
.toolbar-row input{width:100%;box-sizing:border-box;padding:12px;border-radius:10px;border:1px solid #d0d0d0;font-size:14px;background:#fff;box-shadow:0 1px 3px rgba(15,23,42,0.08);transition:border-color 0.2s ease, box-shadow 0.2s ease}
.toolbar-row textarea:focus,.toolbar-row input:focus{border-color:#0ea5a0;box-shadow:0 0 0 2px rgba(14,165,160,0.18)}
.toolbar-row.selects{display:flex;gap:12px;flex-wrap:nowrap;align-items:flex-end}
.toolbar-row.selects .toolbar-field{flex:1 1 0;min-width:0}
.toolbar-row.buttons{display:flex;gap:12px;flex-wrap:nowrap}
.toolbar-btn{flex:1;padding:12px;border-radius:10px;border:1px solid #d0d0d0;background:#fff;cursor:pointer;font-size:13px;font-weight:600;letter-spacing:0.1px;transition:all 0.2s ease;box-shadow:0 1px 3px rgba(15,23,42,0.08);min-width:0}
.toolbar-btn:hover{background:#f4f6fb;border-color:#c5d0f0}
.toolbar-btn.active{background:#4f46e5;color:#fff;border-color:#4f46e5}
.toolbar-btn:disabled{background:#eef1f8;color:#9aa5c7;border-color:#d5d8e5;cursor:not-allowed}
select{padding:12px;border-radius:10px;border:1px solid #d0d0d0;background:#fff;cursor:pointer;font-size:14px;min-width:0;width:100%;box-shadow:0 1px 3px rgba(15,23,42,0.08);transition:border-color 0.2s ease, box-shadow 0.2s ease}
select:hover{border-color:#0ea5a0}
select:focus{outline:none;border-color:#0ea5a0;box-shadow:0 0 0 2px rgba(14,165,160,0.2)}
#main{display:flex;flex-direction:column;gap:12px;align-items:stretch}
.toolbar{margin-left:auto;margin-right:auto}
.toolbar-row.buttons .toolbar-btn{min-width:140px}
@media (max-width:900px){
  .toolbar-inner{gap:10px}
  .toolbar-row.buttons{flex-wrap:wrap}
  .toolbar-row.buttons .toolbar-btn{flex:1 1 150px}
}
@media (max-width:560px){
  .toolbar-row.selects{flex-direction:column;align-items:stretch}
}
#code-area{background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(15,23,42,0.08);border:1px solid #e0e6f0;display:flex;flex-direction:column;gap:10px;width:100%;box-sizing:border-box}
.code-area-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.code-review-controls{display:flex;align-items:center;gap:8px}
.code-review-controls .toolbar-btn{min-width:110px;padding:8px 12px}
.code-review-controls .toolbar-btn.loading{opacity:0.6;pointer-events:none}
.code-review-status{font-size:11px;color:#6b7280}
.code-review-status.info{color:#2563eb}
.code-review-status.error{color:#dc2626}
.code-review-status.success{color:#0f766e}
.code-review-summary{font-size:12px;line-height:1.5;color:#1f2937;background:#f8fafc;border:1px solid #e2e8f0;border-radius:8px;padding:10px}
.code-review-summary strong{display:block;margin-bottom:4px;color:#111827}
.code-review-summary ul{margin:6px 0 0 16px;padding:0;list-style:disc;color:#374151}
.code-review-summary li{margin-bottom:4px}
.code-review-diff{max-height:220px;overflow:auto;border:1px solid #e2e8f0;border-radius:8px;background:#0f172a;padding:10px;font-family:"Fira Code",Consolas,"Courier New",monospace;font-size:12px;color:#e2e8f0;line-height:1.5}
.code-diff-line{white-space:pre-wrap;display:flex;gap:8px;padding:2px 4px;border-radius:4px}
.code-diff-line .code-diff-marker{min-width:16px;text-align:center;font-weight:600}
.code-diff-line.equal{opacity:0.55}
.code-diff-line.added{background:rgba(16,185,129,0.15);color:#bbf7d0}
.code-diff-line.removed{background:rgba(248,113,113,0.2);color:#fecaca}
.code-diff-line.changed{background:rgba(250,204,21,0.18);color:#fef3c7}
.code-diff-line.context{opacity:0.4;font-style:italic}
.code-output{width:100%;max-width:100%;min-height:320px;resize:vertical;padding:14px 16px;border-radius:10px;border:1px solid #d0d7e2;background:#f9fbff;font-family:"Fira Code",Consolas,"Courier New",monospace;font-size:15px;line-height:1.6;color:#1b1f33;box-shadow:inset 0 1px 3px rgba(15,23,42,0.12);box-sizing:border-box;overflow:auto}
.code-output:focus{outline:none;border-color:#4f46e5;box-shadow:0 0 0 2px rgba(79,70,229,0.2)}
#main-top{display:flex;gap:12px;align-items:flex-start}
#timeline-panel{flex:2 1 0%;min-width:220px;background:#fff;padding:8px;border-radius:8px;min-height:300px;box-shadow:0 2px 8px rgba(0,0,0,0.05);display:flex;flex-direction:column;gap:8px}
#timeline{flex:1 1 auto;max-height:320px;overflow-y:auto}
#selector-column{flex:3 1 0%;min-width:280px;display:flex;flex-direction:column;gap:8px}
#element-select-btn{background:#fff;border:1px solid #ddd;border-radius:6px;padding:6px 10px;cursor:pointer}
#element-select-btn.active{background:#ffa000;border-color:#ffb74d;color:#fff;font-weight:600}
.selector-item{display:flex;flex-direction:column;gap:4px;padding:6px;border-bottom:1px solid #eee}
.selector-item .selector-main{display:flex;align-items:center;gap:6px;flex-wrap:wrap}
.selector-item .selector-main .type{display:inline-flex;align-items:center;justify-content:center;padding:2px 6px;border-radius:4px;background:#e3f2fd;color:#0d47a1;font-size:10px;font-weight:600;letter-spacing:0.3px}
.selector-item .selector-main .sel{font-family:"Courier New",monospace;font-size:12px;color:#333;flex:1 1 auto;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.selector-item .selector-main .score{margin-left:auto;font-size:11px;color:#777}
.selector-item .selector-actions{display:flex;gap:6px}
.selector-item .selector-actions button{padding:4px 8px;border-radius:4px;border:1px solid #ddd;background:#fff;cursor:pointer;transition:background 0.2s ease}
.selector-item .selector-actions button:hover{background:#f0f7ff}
.selector-item .reason{font-size:11px;color:#666;line-height:1.4}
.match-toggle{display:flex;gap:6px;margin-top:4px}
.match-toggle .match-btn{flex:1;border:1px solid #d0d0d0;background:#fff;font-size:10px;padding:4px 6px;border-radius:6px;cursor:pointer;color:#555;transition:all 0.2s ease}
.match-toggle .match-btn.active{background:#0ea5a0;border-color:#0ea5a0;color:#fff;font-weight:600}
.match-toggle .match-btn:hover{background:#f0f7ff}
#element-panel{background:#fff;border-radius:8px;border:1px solid #e0e0e0;padding:10px;display:flex;flex-direction:column;gap:12px;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
#element-panel.hidden{display:none}
.element-header{display:flex;justify-content:space-between;align-items:center}
.element-header h4{margin:0;font-size:15px}
#element-cancel-btn{border:1px solid #ddd;border-radius:4px;background:#fff;padding:4px 8px;font-size:12px;cursor:pointer}
#element-cancel-btn:hover{background:#f5f5f5}
#element-status{display:none;font-size:12px;color:#424242;background:#f9f9f9;border:1px dashed #ddd;border-radius:6px;padding:6px 8px}
#element-status[data-tone="error"]{color:#c62828;background:#ffebee;border-color:#ffcdd2}
#element-status[data-tone="success"]{color:#1b5e20;background:#e8f5e9;border-color:#c8e6c9}
#element-status[data-tone="info"]{color:#424242;background:#f9f9f9;border-color:#ddd}
.element-section{display:flex;flex-direction:column;gap:8px}
.element-section.hidden{display:none}
.element-title{font-size:12px;font-weight:600;color:#555}
#element-candidates{border:1px solid #eee;border-radius:6px;max-height:220px;overflow-y:auto}
#element-path-items{display:flex;flex-direction:column;gap:6px}
.element-path-item{display:flex;align-items:center;gap:6px;font-size:11px;color:#555;background:#f7f9ff;padding:4px 6px;border-radius:4px;border:1px solid #dbe5ff}
.element-path-item .label{font-weight:600;color:#1a237e}
.element-action-buttons{display:flex;flex-wrap:wrap;gap:6px}
.element-action-buttons button{padding:6px 10px;border-radius:4px;border:1px solid #ddd;background:#fff;cursor:pointer;font-size:12px}
.element-action-buttons button:hover{background:#f0f7ff}
#element-attribute-panel input{flex:1;padding:6px 8px;border:1px solid #ccc;border-radius:4px;font-size:12px}
.element-attr-row{display:flex;gap:6px}
#element-attr-apply{padding:6px 12px;border-radius:4px;border:1px solid #0ea5a0;background:#0ea5a0;color:#fff;cursor:pointer;font-size:12px}
#element-attr-apply:hover{background:#0b857f}
#element-code-preview pre{margin:0;background:#272822;color:#fff;padding:10px;border-radius:6px;font-size:12px;max-height:160px;overflow:auto}
.timeline-item{padding:8px;margin:4px 0;border-radius:4px;cursor:pointer;background:#f9f9f9;border:1px solid #e0e0e0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.timeline-item:hover{background:#f0f0f0}
.timeline-item.selected{background:#e3f2fd;border-color:#2196f3;font-weight:500}
.hidden{display:none}
#iframe-banner{background:#fff3f3;border:1px solid #ffcccc;padding:8px;border-radius:6px;color:#b30000}
#log-entries{max-height:200px;overflow-y:auto;background:#fafafa;padding:8px;border-radius:4px;border:1px solid #e0e0e0;font-size:12px}
#log-entries::-webkit-scrollbar{width:6px}
#log-entries::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}
#log-entries::-webkit-scrollbar-thumb{background:#888;border-radius:3px}
#log-entries::-webkit-scrollbar-thumb:hover{background:#555}
.selector-ai-control{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 12px;margin-bottom:12px;border:1px solid #e2e8f0;border-radius:10px;background:#f8fafc}
.selector-ai-title{font-size:13px;font-weight:700;color:#374151}
.selector-ai-actions{display:flex;align-items:center;gap:8px}
.selector-ai-button-wrapper{position:relative;display:inline-flex}
.selector-ai-button-wrapper::after{content:attr(data-tooltip);position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%) translateY(6px);background:#1f2937;color:#fff;padding:6px 10px;border-radius:6px;font-size:11px;line-height:1.4;white-space:nowrap;box-shadow:0 6px 18px rgba(15,23,42,0.18);opacity:0;pointer-events:none;transition:opacity 0.16s ease, transform 0.16s ease}
.selector-ai-button-wrapper::before{content:'';position:absolute;bottom:calc(100% + 3px);left:50%;transform:translateX(-50%);border-width:6px;border-style:solid;border-color:#1f2937 transparent transparent transparent;opacity:0;transition:opacity 0.16s ease}
.selector-ai-button-wrapper:hover::after,
.selector-ai-button-wrapper:hover::before{opacity:1;transform:translateX(-50%) translateY(0)}
.selector-ai-button{padding:6px 12px;border-radius:8px;border:1px solid #4338ca;background:#4f46e5;color:#fff;font-size:12px;font-weight:600;cursor:pointer;transition:all 0.2s ease}
.selector-ai-button:hover:not(:disabled){background:#3730a3;border-color:#3730a3}
.selector-ai-button:disabled{opacity:0.6;cursor:not-allowed}
.selector-ai-status{font-size:11px;color:#6b7280}
.selector-ai-status.info{color:#2563eb}
.selector-ai-status.error{color:#dc2626}
.selector-ai-status.success{color:#0f766e}
.selector-ai-status.muted{color:#9ca3af}
.selector-ai-message{margin-bottom:8px;padding:8px 10px;border-radius:6px;background:#f0f9ff;border:1px solid #bfdbfe;color:#1e40af;font-size:12px;font-weight:500}
.selector-ai-message.loading{background:#eff6ff;border-color:#dbeafe;color:#1e40af}
.selector-ai-message.error{background:#fef2f2;border-color:#fecaca;color:#b91c1c}
.selector-ai-message.empty{border-style:dashed;background:#f9fafb;color:#6b7280}
.selector-section-title{font-size:12px;font-weight:700;color:#4b5563;margin:8px 0 4px}